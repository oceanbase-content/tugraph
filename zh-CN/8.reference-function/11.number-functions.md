# Number 相关函数

## OCINumberToInt

**函数功能** ：将 Oracle ​`NUMBER` 类型转换为整数。

**函数原型** ：

```C++
sword OCINumberToInt ( 
OCIError              *err,
const OCINumber       *number,
uword                 rsl_length,
uword                 rsl_flag,
void                  *rsl );
```

**函数参数** ：

|     **参数**     |                                                                                **描述**                                                                                |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| err(IN/OUT)    | 错误信息句柄。                                                                                                                                                              |
| number(IN)     | 要转换的 number。                                                                                                                                                         |
| rsl_length(IN) | rsl 大小。                                                                                                                                                              |
| rsl_flag(IN)   | 用于指定输出符号的标志，如下所示：<ul> <li>OCI_NUMBER_UNSIGNED</li><li> OCI_NUMBER_SIGNED </li></ul>   |
| rsl(OUT)       | 指向结果空间的指针。                                                                                                                                                           |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberToReal

**函数功能** ：将 Oracle ​`NUMBER`​ 类型转换为实数。

**函数原型** ：

```C++
sword OCINumberToReal ( 
OCIError            *err,
const OCINumber     *number,
uword               rsl_length,
void                *rsl );
```

**函数参数** ：

|     **参数**     |                        **描述**                        |
|----------------|------------------------------------------------------|
| err(IN/OUT)    | 错误信息句柄。                                              |
| number(IN)     | 要转换的 number。                                         |
| rsl_length(IN) | 所需结果的大小，等于 sizeof（{float \| double \| long double}）。 |
| rsl(OUT)       | 指向结果空间的指针。                                           |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberToText

**函数功能** ：根据指定格式将 Oracle ​`NUMBER`​ 转换为字符串。

**函数原型** ：

```C++
sword OCINumberToText ( 
OCIError             *err,
const OCINumber      *number,
const OraText        *fmt,
ub4                  fmt_length,
const OraText        *nls_params,
ub4                  nls_p_length,
ub4                  *buf_size,
OraText              *buf );
```

**函数参数** ：

|      **参数**      |                **描述**                 |
|------------------|---------------------------------------|
| err(IN/OUT)      | 错误信息句柄。                               |
| number(IN)       | 要转换的 number。                          |
| fmt(IN)          | 转换格式。                                 |
| fmt_length(IN)   | 格式长度。                                 |
| nls_params(IN)   | 如果它是 NULL 字符串（（text \*）0），则使用会话的默认参数。 |
| nls_p_length(IN) | nls_params 的长度。                       |
| buf_size(IN)     | 缓冲区的大小。                               |
| buf(OUT)         | 转换后的字符串放入其中的缓冲区。                      |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberIsInt

**函数功能** ：测试 OCINumber 是否为整数。

**函数原型** ：

```C++
sword OCINumberIsInt ( 
OCIError         *err,
const OCINumber  *number,
boolean          *result );
```

**函数参数** ：

|   **参数**    |           **描述**           |
|-------------|----------------------------|
| err(IN/OUT) | 错误信息句柄。                    |
| number(IN)  | 要测试的 number。               |
| result(OUT) | 如果为整数，则设置为 TRUE，否则为 FALSE。 |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberFromText

**函数功能** ：将字符串转换为Oracle NUMBER。

**函数原型** ：

```C++
sword OCINumberFromText ( 
OCIError           *err,
const OraText      *str,
ub4                str_length,
const OraText      *fmt,
ub4                fmt_length,
const OraText      *nls_params,
ub4                nls_p_length,
OCINumber          *number );
```

**函数参数** ：

|      **参数**      |            **描述**             |
|------------------|-------------------------------|
| err(IN/OUT)      | 错误信息句柄。                       |
| str(IN)          | 输入字符串以转换为 Oracle NUMBER。      |
| str_length(IN)   | 输入字符串的大小。                     |
| fmt(IN)          | 转换格式。                         |
| fmt_length(IN)   | 格式长度。                         |
| nls_params(IN)   | 如果它是 NULL 字符串（""），则使用会话的默认参数。 |
| nls_p_length(IN) | nls_params的长度。                |
| number(OUT)      | 转换后的 number。                  |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberAbs

**函数功能** ：计算 Oracle `NUMBER` 的绝对值。

**函数原型** ：

```C++
sword OCINumberAbs ( OCIError              *err,
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 输入 `NUMBER`。                                                                                                  |
| result (OUT) | 输入 `NUMBER` 的绝对值。                                                                                            |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberAdd

**函数功能** ：将一个 `NUMBER` 添加到另一个 `NUMBER`。

**函数原型** ：

```C++
sword OCINumberAdd ( OCIError              *err,
const OCINumber       *number1, 
const OCINumber       *number2,
OCINumber             *result );
```

**函数参数** ：

|          参数           |                                                      描述                                                       |
|-----------------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)          | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number1, number2 (IN) | 将 `number1` 添加到 `number2`。                                                                                    |
| result (OUT)          | 将 `number1` 添加到 `number2` 的结果。                                                                                |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberArcCos

**函数功能** ：取 Oracle `NUMBER` 的反余弦，单位为弧度。

**函数原型** ：

```C++
sword OCINumberArcCos ( OCIError            *err, 
const OCINumber     *number, 
OCINumber           *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 反余弦参数。                                                                                                        |
| result (OUT) | 以弧度为单位的反余弦结果。                                                                                                 |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberArcSin

**函数功能** ：取 Oracle `NUMBER` 的反正弦，单位为弧度。

**函数原型** ：

```C++
sword OCINumberArcSin ( OCIError              *err,
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 反正弦参数。                                                                                                        |
| result (OUT) | 以弧度为单位的反正弦结果。                                                                                                 |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberArcTan

**函数功能** ：取 Oracle `NUMBER` 的反正切，单位为弧度。

**函数原型** ：

```C++
sword OCINumberArcTan ( OCIError             *err, 
const OCINumber      *number, 
OCINumber            *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 反正切参数。                                                                                                        |
| result (OUT) | 以弧度为单位的反正切结果。                                                                                                 |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberAssign

**函数功能** ：将一个 Oracle `NUMBER` 分配给另一个 Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberAssign ( OCIError              *err,
const OCINumber       *from, 
OCINumber             *to );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| from (IN)    | 被分配的 `NUMBER`。                                                                                                |
| to (OUT)     | 分配给该 `NUMBER`。                                                                                                |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberCeil

**函数功能** ：计算 Oracle `NUMBER` 的上限值。

**函数原型** ：

```C++
sword OCINumberCeil ( OCIError              *err, 
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 输入 `NUMBER`。                                                                                                  |
| result (OUT) | 输入 `NUMBER` 的上限值。                                                                                             |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberCmp

**函数功能** ：将一个 Oracle `NUMBER` 与另一个 Oracle `NUMBER` 进行比较。

**函数原型** ：

```C++
sword OCINumberCmp ( OCIError            *err,
const OCINumber     *number1, 
const OCINumber     *number2,
sword               *result );
```

**函数参数** ：

|          参数           |                                                      描述                                                       |
|-----------------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)          | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number1, number2 (IN) | `number1` 与 `number2` 进行比较。                                                                                   |
| result (OUT)          | 比较结果，详情请参考本小节的 **说明**。                                                 |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

### 说明

|         比较结果         |    输出    |
|----------------------|----------|
| `number1`\<`number2` | negative |
| `number1`=`number2`  | 0        |
| `number1`\>`number2` | positive |

## OCINumberCos

**函数功能** ：计算 Oracle `NUMBER` 的余弦，单位为弧度。

**函数原型** ：

```C++
sword OCINumberCos ( OCIError              *err,
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 以弧度为单位的余弦参数。                                                                                                  |
| result (OUT) | 余弦值。                                                                                                          |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberDec

**函数功能** ：在一定区间内递减 Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberDec ( OCIError  *err, 
OCINumber *number );
```

**函数参数** ：

|       参数        |                                                      描述                                                       |
|-----------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)    | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN/OUT) | 要递减的正值 Oracle `NUMBER`。                                                                                       |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberDiv

**函数功能** ：将一个 Oracle `NUMBER` 除以另一个 Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberDiv ( OCIError               *err,
const OCINumber        *number1, 
const OCINumber        *number2,
OCINumber              *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number1 (IN) | 指向分子的指针。                                                                                                      |
| number2 (IN) | 指向分母的指针。                                                                                                      |
| result (OUT) | 相除结果。                                                                                                         |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberExp

**函数功能** ：将 e 传递给指定的 Oracle `NUMBER` 作为幂级数。

**函数原型** ：

```C++
sword OCINumberExp ( OCIError              *err, 
const OCINumber       *number,
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 将 e 传递给该 Oracle `NUMBER`。                                                                                     |
| result (OUT) | 幂运算的输出。                                                                                                       |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberFloor

**函数功能** ：计算 Oracle `NUMBER` 的下限（向下舍入）值。

**函数原型** ：

```C++
sword OCINumberFloor ( OCIError              *err,
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 输入`NUMBER`。                                                                                                   |
| result (OUT) | 输入 `NUMBER` 的下限（向下舍入）值。                                                                                       |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberFromInt

**函数功能** ：将整数转换为 Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberFromInt ( OCIError            *err,
const void          *inum, 
uword               inum_length,
uword               inum_s_flag,
OCINumber           *number );
```

**函数参数** ：

|        参数        |                                                                                      描述                                                                                      |
|------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)     | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。                                                                |
| inum (IN)        | 指向要转换的整数的指针。                                                                                                                                                                 |
| inum_length (IN) | 整数的大小。                                                                                                                                                                       |
| inum_s_flag (IN) | 指定整数符号的标志，如下：<ul><li> `OCI_NUMBER_UNSIGNED`：无符号值 </li><li> `OCI_NUMBER_SIGNED`：符号值    </li></ul>|
| number (OUT)     | 给定整数转换为的 Oracle `NUMBER`。                                                                                                                                                    |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberFromReal

**函数功能** ：将实数（浮点）类型转换为 Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberFromReal ( OCIError           *err,
const void         *rnum,
uword              rnum_length,
OCINumber          *number );
```

**函数参数** ：

|        参数        |                                                      描述                                                       |
|------------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)     | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| rnum (IN)        | 指向要转换的浮点数的指针。                                                                                                 |
| rnum_length (IN) | 所需结果的大小，等于 `sizeof`({ `float`\| `double`\| `long double`})。                                                   |
| number (OUT)     | 给定浮点数转换为的 Oracle `NUMBER`。                                                                                    |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberHypCos

**函数功能** ：计算 Oracle `NUMBER` 的双曲余弦值。

**函数原型** ：

```C++
sword OCINumberHypCos ( OCIError              *err, 
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 余弦双曲的参数。                                                                                                      |
| result (OUT) | 余弦双曲值。                                                                                                        |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberHypSin

**函数功能** ：计算 Oracle `NUMBER` 的双曲正弦值。

**函数原型** ：

```C++
sword OCINumberHypSin ( OCIError              *err,
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 正弦双曲的参数。                                                                                                      |
| result (OUT) | 正弦双曲值。                                                                                                        |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberHypTan

**函数功能** ：计算 Oracle `NUMBER` 的双曲正切值。

**函数原型** ：

```C++
sword OCINumberHypTan ( OCIError              *err,
const OCINumber       *number,
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 正切双曲的参数。                                                                                                      |
| result (OUT) | 正切双曲值。                                                                                                        |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberInc

**函数功能** ：递增一个 Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberInc ( OCIError   *err, 
OCINumber  *number );
```

**函数参数** ：

|       参数        |                                                      描述                                                       |
|-----------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)    | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN/OUT) | 将要递增的正值 Oracle `NUMBER`。                                                                                      |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberIsZero

**函数功能** ：测试给定 `NUMBER` 是否为零。

**函数原型** ：

```C++
sword OCINumberIsZero ( OCIError            *err,
const OCINumber     *number,
boolean             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 要测试的 `NUMBER`。                                                                                                |
| result (OUT) | 如果等于零，则设置为 `TRUE`；否则，设置为 `FALSE`。                                                                             |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberLn

**函数功能** ：取 Oracle `NUMBER` 的自然对数（以 e为底）。

**函数原型** ：

```C++
sword OCINumberLn ( OCIError              *err,
const OCINumber       *number,
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 该 `NUMBER` 的对数将要被计算。                                                                                          |
| result (OUT) | 对数结果。                                                                                                         |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberLog

**函数功能** ：取 Oracle `NUMBER` 的对数（以任意值为底）。

**函数原型** ：

```C++
sword OCINumberLog ( OCIError              *err, 
const OCINumber       *base, 
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| base (IN)    | 对数的底。                                                                                                         |
| number (IN)  | 操作数。                                                                                                          |
| result (OUT) | 对数结果。                                                                                                         |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberMod

**函数功能** ：获取两个 Oracle `NUMBER` 相除的模（余数）。

**函数原型** ：

```C++
sword OCINumberMod ( OCIError              *err,
const OCINumber       *number1, 
const OCINumber       *number2,
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number1 (IN) | 指向分子的指针。                                                                                                      |
| number2 (IN) | 指向分母的指针。                                                                                                      |
| result (OUT) | 相除的余数。                                                                                                        |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberMul

**函数功能** ：将一个 Oracle `NUMBER` 乘以另一个 Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberMul ( OCIError              *err,
const OCINumber       *number1, 
const OCINumber       *number2,
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number1 (IN) | 用以相乘的 `NUMBER`。                                                                                               |
| number2 (IN) | 用以相乘的 `NUMBER`。                                                                                               |
| result (OUT) | 相乘结果。                                                                                                         |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberNeg

**函数功能** ：对 Oracle `NUMBER` 求反。

**函数原型** ：

```C++
sword OCINumberNeg ( OCIError              *err, 
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 要求反的 `NUMBER`。                                                                                                |
| result (OUT) | `number` 求反的值。                                                                                                |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberPrec

**函数功能** ：将一个 `OCINumber` 舍入到指定的小数位数。

**函数原型** ：

```C++
sword OCINumberPrec ( OCIError              *err, 
const OCINumber       *number,
eword                 nDigs, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 要设置精度的数字。                                                                                                     |
| nDigs (IN)   | 结果中所需的小数位数。                                                                                                   |
| result (OUT) | 舍入后的结果。                                                                                                       |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberRound

**函数功能** ：将 Oracle `NUMBER` 舍入到指定的小数位。

**函数原型** ：

```C++
sword OCINumberRound ( OCIError              *err,
const OCINumber       *number,
sword                 decplace,
OCINumber             *result );
```

**函数参数** ：

|      参数       |                                                      描述                                                       |
|---------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)  | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)   | 要舍入的 `NUMBER`。                                                                                                |
| decplace (IN) | 要舍入到的小数点右侧的小数位数。允许使用负值。                                                                                       |
| result (OUT)  | 舍入的结果。                                                                                                        |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberSetPi

**函数功能** ：将 `OCINumber` 设置为 pi。

**函数原型** ：

```C++
void OCINumberSetPi ( OCIError *err, 
OCINumber *num );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| num (OUT)    | 设置为 pi 值的 `NUMBER`。                                                                                           |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberSetZero

**函数功能** ：将 Oracle `NUMBER` 初始化为零。

**函数原型** ：

```C++
void OCINumberSetZero (OCIError *err
OCINumber *num );
```

**函数参数** ：

|      参数      |               描述                |
|--------------|---------------------------------|
| err (IN/OUT) | 有效的错误信息句柄。该函数不检查错误，因为该函数从不产生错误。 |
| num (OUT)    | 要初始化为零值的 Oracle `NUMBER`。       |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberShift

**函数功能** ：通过移动 `NUMBER` 的指定小数位数，将 `NUMBER` 乘以 10 的幂。

**函数原型** ：

```C++
sword OCINumberShift ( OCIError         *err, 
const OCINumber  *number,
const sword      nDig,
OCINumber        *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 将被移位的 Oracle `NUMBER`。                                                                                        |
| nDig (IN)    | 要移动的小数位数。                                                                                                     |
| result (OUT) | 移位结果。                                                                                                         |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberSign

**函数功能** ：获得 Oracle `NUMBER` 的符号。

**函数原型** ：

```C++
sword OCINumberSign ( OCIError             *err, 
const OCINumber      *number, 
sword                *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 将要返回符号的 Oracle `NUMBER`。                                                                                      |
| result (OUT) | 返回值，详情请参考本小节的 **说明**。                                                  |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

### 说明

|      数值       | 返回结果 |
|---------------|------|
| `number` \< 0 | -1   |
| `number` == 0 | 0    |
| `number` \> 0 | 1    |

## OCINumberSin

**函数功能** ：以弧度为单位计算 Oracle `NUMBER` 的正弦值。

**函数原型** ：

```C++
sword OCINumberSin ( OCIError              *err, 
const OCINumber       *number, 
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 以弧度为单位的正弦参数。                                                                                                  |
| result (OUT) | 正弦值。                                                                                                          |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberSqrt

**函数功能** ：计算 Oracle `NUMBER` 的平方根。

**函数原型** ：

```C++
sword OCINumberSqrt ( OCIError           *err,
const OCINumber     *number, 
OCINumber           *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 输入 `NUMBER`。                                                                                                  |
| result (OUT) | 输入 `NUMBER` 的平方根。                                                                                             |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberSub

**函数功能** ：从一个 Oracle `NUMBER` 中减去另一个Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberSub ( OCIError             *err,
const OCINumber      *number1, 
const OCINumber      *number2, 
OCINumber            *result );
```

**函数参数** ：

|          参数           |                                                      描述                                                       |
|-----------------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)          | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number1, number2 (IN) | 从 `number1` 中减去 `number2`。                                                                                    |
| result (OUT)          | 相减结果。                                                                                                         |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberTan

**函数功能** ：计算 Oracle `NUMBER` 的正切值，单位为弧度。

**函数原型** ：

```C++
sword OCINumberTan ( OCIError              *err, 
const OCINumber       *number,
OCINumber             *result );
```

**函数参数** ：

|      参数      |                                                      描述                                                       |
|--------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT) | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)  | 以弧度为单位的正切参数。                                                                                                  |
| result (OUT) | 正切结果。                                                                                                         |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberToRealArray

**函数功能** ：将 `NUMBER` 数组转换为实数类型的数组。

**函数原型** ：

```C++
sword OCINumberToRealArray ( OCIError         *err, 
const OCINumber  **number,
uword            elems, 
uword            rsl_length, 
void             *rsl );
```

**函数参数** ：

|       参数        |                                                      描述                                                       |
|-----------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)    | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)     | 指向要转换的 `NUMBER` 数组的指针。                                                                                        |
| elems (IN)      | `NUMBER` 指针的最大数。                                                                                              |
| rsl_length (IN) | 所需结果的大小，即 `sizeof({ float | double | long double})`。                                                          |
| rsl (OUT)       | 指向用于存储结果的空间数组的指针。                                                                                             |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。

## OCINumberTrunc

**函数功能** ：在指定的小数位截断 Oracle `NUMBER`。

**函数原型** ：

```C++
sword OCINumberTrunc ( OCIError             *err,
const OCINumber      *number, 
sword                decplace,
OCINumber            *result );
```

**函数参数** ：

|      参数       |                                                      描述                                                       |
|---------------|---------------------------------------------------------------------------------------------------------------|
| err (IN/OUT)  | 错误信息句柄。如果有错误，则记录在 `err` 中，并且该函数返回 `OCI_ERROR`。通过调用 [OCIErrorGet](7.miscellaneous-functions.md) 获取诊断信息。 |
| number (IN)   | 输入 `NUMBER`。                                                                                                  |
| decplace (IN) | 要截断的小数点右侧的小数位数。允许使用负值。                                                                                        |
| result (OUT)  | 截断结果的输出。                                                                                                      |

**返回值** ：成功时返回 OCI_SUCCESS，失败时返回 OCI_ERROR。
