# Functions related to SQL environment operations

## SQLEnvGet

**Purpose**: You can call this function to return a pointer to the OCI environment handle associated with a given SQLLIB runtime context.

**Prototype**:

```C++
sword SQLEnvGet(dvoid *rctx, OCIEnv **oeh);
```

**Parameters**:

| Parameter | Description |
|--------------|-----------------------------------------------------|
| rctx (IN) | The pointer to an SQLLIB runtime context. |
| oeh (OUT) | The pointer to an environment handle. |

**Return values**: SQL_SUCCESS is returned when the function call succeeds, and SQL_ERROR is returned if otherwise.

> **Notice**
>
> The usual error status variables in ECOB/C++, such as SQLCA and SQLSTATE, will not be affected by a call to this function.

## SQLSvcCtxGet

**Purpose**: You can call this function to return the OCI service context for the ECOB/C++ database connection. The OCI service context can then be used in direct calls to OCI functions.

**Prototype**:

```C++
sword SQLSvcCtxGet(dvoid *rctx, text *dbname,
       sb4 dbnamelen, OCISvcCtx **svc);
```

**Parameters**:

| Parameter | Description |
|--------------|-----------------------------------------------------|
| rctx (IN) | The pointer to an SQLLIB runtime context. |
| dbname (IN) | The buffer containing the logical name for this connection. It is the same as the identifier used in an AT clause in an embedded SQL statement. |
| dbnamelen (IN) | The length of the `dbname` buffer. The value `-1` indicates that the value of `dbname` is a zero-terminated string. |
| svc (OUT) | The address of the OCISvcCtx pointer. |

**Return values**: SQL_SUCCESS is returned when the function call succeeds, and SQL_ERROR is returned if otherwise.

> **Note**
>
> * The usual error status variables in ECOB/C++, such as SQLCA and SQLSTATE, will not be affected by a call to this function.
>
> * If `dbname` is a null pointer or `dbnamelen` is 0, the default database connection is assumed, as in an SQL statement with no AT clause.
